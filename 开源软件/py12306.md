# 安装Docker

```
yum remove -y docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-selinux \
                  docker-engine-selinux \
                  docker-engine \
                  docker-ce
                  
yum install -y yum-utils \
           device-mapper-persistent-data \
           lvm2 --skip-broken
           

# 设置docker镜像源
yum-config-manager \
    --add-repo \
    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
    
sed -i 's/download.docker.com/mirrors.aliyun.com\/docker-ce/g' /etc/yum.repos.d/docker-ce.repo

yum makecache fast

yum install -y docker-ce-20.10.0

systemctl stop firewalld && systemctl disable firewalld

systemctl enable docker && systemctl start docker
```

# Pull Python:3.6镜像

```
docker pull python 3.6
```

# 启动服务

## 配置源码映射文件夹

```bash
mkdir -p /root/12306-task
```

## Pull py12306源码

```
cd /root/12306-task
git clone https://github.com/pjialin/py12306
```

## 解压源码(下载zip需要执行)

```

```

## dokcer 启动

```
docker run -itd --name 12306-task -p 8008:8008 -v /root/12306-task:/12306-task python:3.6
```



## 进入容器下载依赖

```
docker exec -it 12306-task bash
cd 12306-task
pip install -r requirements.txt
```

## 修改配置文件

```

```

## 后台启动

```
mkdir log
touch 12306-task.log
nohup python main.py >> log/12306-task.log 2>&1 &
```



## 扫码登陆





## 停止

```
jobs -l
kill -9 [pid]
```

